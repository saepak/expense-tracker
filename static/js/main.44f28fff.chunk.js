(this.webpackJsonpexpense=this.webpackJsonpexpense||[]).push([[0],{143:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),o=n.n(c),s=n(13),r=n.n(s),i=(n(143),n(267)),l=n(134),u=function(){var e=i.a.Title;return Object(a.jsx)("div",{className:"headerBG",children:Object(a.jsxs)(e,{level:2,className:"header",children:[Object(a.jsx)(l.a,{style:{marginBottom:-5}})," My Expense Manager"]})})},j=n(28),d=n(135),b=n(41),f=function(e,t){switch(t.type){case"DELETE_TRANSACTION":return Object(b.a)(Object(b.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"ADD_TRANSACTION":return Object(b.a)(Object(b.a)({},e),{},{transactions:[t.payload].concat(Object(d.a)(e.transactions))});default:return e}},O={transactions:[{id:1,text:"Salary",amount:1e3,group:"salary"},{id:2,text:"Candy",amount:-8,group:"food"},{id:3,text:"Book",amount:-10,group:"hobby"},{id:4,text:"Camera",amount:-150,group:"hobby"},{id:5,text:"Flower",amount:-20,group:"gift"},{id:6,text:"Lunch",amount:-18,group:"food"},{id:7,text:"Gas",amount:-42,group:"util"},{id:8,text:"Card",amount:-12,group:"other"}]},x=Object(c.createContext)(O),m=function(e){var t=e.children,n=Object(c.useReducer)(f,O),o=Object(j.a)(n,2),s=o[0],r=o[1];return Object(a.jsx)(x.Provider,{value:{transactions:s.transactions,deleteTransaction:function(e){r({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){r({type:"ADD_TRANSACTION",payload:e})}},children:t})},h=n(268),p=n(53),g=n(43),v=n(270),y=n(127),N=function(){var e,t=Object(c.useContext)(x).transactions,n=0,o=0,s=0,r=0,i=0,l=t.filter((function(e){return"hobby"===e.group})).map((function(e){return e.amount})),u=Object(p.a)(l);try{for(u.s();!(e=u.n()).done;){n+=e.value}}catch(L){u.e(L)}finally{u.f()}var d,b=t.filter((function(e){return"food"===e.group})).map((function(e){return e.amount})),f=Object(p.a)(b);try{for(f.s();!(d=f.n()).done;){o+=d.value}}catch(L){f.e(L)}finally{f.f()}var O,m=t.filter((function(e){return"gift"===e.group})).map((function(e){return e.amount})),h=Object(p.a)(m);try{for(h.s();!(O=h.n()).done;){s+=O.value}}catch(L){h.e(L)}finally{h.f()}var N,C=t.filter((function(e){return"util"===e.group})).map((function(e){return e.amount})),S=Object(p.a)(C);try{for(S.s();!(N=S.n()).done;){r+=N.value}}catch(L){S.e(L)}finally{S.f()}var T,k=t.filter((function(e){return"other"===e.group})).map((function(e){return e.amount})),A=Object(p.a)(k);try{for(A.s();!(T=A.n()).done;){i+=T.value}}catch(L){A.e(L)}finally{A.f()}var w={labels:["Hobby","Food","Gift","Util","Other"],datasets:[{label:"Sales for 2020(M)",data:[n,o,s,r,i],backgroundColor:["rgba(255, 99, 132, 1)","rgba(255, 205, 86, 1)","rgba(54, 162, 235, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)"]}]},I=Object(c.useState)(!1),F=Object(j.a)(I,2),B=F[0],E=F[1];return Object(a.jsxs)("div",{style:{marginBottom:20},children:[Object(a.jsx)(g.a,{type:"primary",onClick:function(){E(!0)},className:"graph-btn",children:"View Chart"}),Object(a.jsx)(v.a,{title:"Expense Chart",visible:B,onOk:function(){E(!1)},onCancel:function(){E(!1)},children:Object(a.jsx)(y.Doughnut,{data:w,options:{height:350,maintainAspectRatio:!1}})})]})},C=function(){var e=i.a.Title,t=Object(c.useContext)(x).transactions.map((function(e){return e.amount})),n=t.reduce((function(e,t){return e+t}),0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),o=t.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),s=(-1*t.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);return Object(a.jsxs)("div",{className:"expenseBox",children:[Object(a.jsx)(e,{level:4,className:"title",children:"Balance"}),Object(a.jsxs)("div",{className:"expense-num",children:[Object(a.jsxs)("h1",{className:"totalBalance",children:["$",n]}),Object(a.jsxs)("div",{className:"inc-exp-container",children:[Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{title:"Income",value:o,prefix:"$",valueStyle:{color:"#fff"}})}),Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{title:"Expense",value:s,prefix:"$",valueStyle:{color:"#fff"}})})]}),Object(a.jsx)("div",{className:"graph-btn-box",children:Object(a.jsx)(N,{})})]})]})},S=n(271),T=function(e){var t=e.transaction,n=Object(c.useContext)(x).deleteTransaction,o=Object(c.useState)(!1),s=Object(j.a)(o,2),r=s[0],i=s[1],l=t.amount<0?"-":"+",u=Math.abs(t.amount).toLocaleString();return Object(a.jsxs)("li",{children:[Object(a.jsx)("em",{className:t.amount<0?"minus":"plus"}),Object(a.jsxs)("span",{className:"text",children:[t.text," "]}),Object(a.jsxs)("span",{className:"number",children:[l,"$",u]}),Object(a.jsx)(g.a,{type:"text",onClick:function(){i(!0)},className:"delete-btn",children:Object(a.jsx)(S.a,{style:{color:"#999"}})}),Object(a.jsx)(v.a,{title:"Delete",visible:r,onOk:function(){n(t.id),i(!1)},onCancel:function(){i(!1)},children:Object(a.jsx)("p",{children:"Are you sure you want to delete this transaction?"})})]})},k=function(){var e=i.a.Title,t=Object(c.useContext)(x).transactions;return Object(a.jsxs)("div",{className:"history",children:[Object(a.jsx)(e,{level:4,className:"title",children:"History"}),Object(a.jsx)("ul",{className:"list",children:t.map((function(e){return Object(a.jsx)(T,{transaction:e},e.id)}))})]})},A=n(266),w=n(269),I=n(132),F={labelCol:{span:8},wrapperCol:{span:16}},B=function(){var e=i.a.Title,t=A.a.useForm(),n=Object(j.a)(t,1)[0],o=Object(c.useState)(""),s=Object(j.a)(o,2),r=s[0],l=s[1],u=Object(c.useState)(0),d=Object(j.a)(u,2),f=d[0],O=d[1],m=Object(c.useState)("food"),h=Object(j.a)(m,2),p=h[0],v=h[1],y=Object(c.useState)({label:"Food",value:"food"}),N=Object(j.a)(y,2),C=N[0],S=N[1],T=Object(c.useContext)(x).addTransaction;return Object(a.jsxs)("div",{className:"add-list",children:[Object(a.jsx)("div",{className:"title-container",children:Object(a.jsx)(e,{level:4,className:"title",style:{marginBottom:12},children:"Add new transaction"})}),Object(a.jsxs)(A.a,Object(b.a)(Object(b.a)({},F),{},{name:"basic",form:n,initialValues:{remember:!0},children:[Object(a.jsx)(A.a.Item,{name:"transaction",rules:[{required:!0,message:"Please input your transaction"}],children:Object(a.jsx)(w.a,{type:"text",value:r,placeholder:"Enter new transaction",className:"add-input",onChange:function(e){return l(e.target.value)}})}),Object(a.jsx)(A.a.Item,{name:"amount",rules:[{required:!0,message:"Please input your amount"}],children:Object(a.jsx)(w.a,{type:"number",value:f,className:"add-input",placeholder:"Amount ( -expense, +income)",onChange:function(e){return O(e.target.value)}})}),Object(a.jsx)(I.a,{onChange:function(e){v(e.value)},options:[{label:"Food",value:"food"},{label:"Hobby",value:"hobby"},{label:"Gift",value:"gift"},{label:"Util",value:"util"},{label:"Other",value:"other"}],defaultValue:C,className:"select-box"}),Object(a.jsx)(g.a,{htmlType:"submit",onClick:function(e){e.preventDefault();var t={id:Math.floor(1e8*Math.random()),text:r,amount:+f,group:p};return n.resetFields(),S({label:"Food",value:"food"}),r.length>0?T(t):""},className:"btn add_transaction_btn",children:"Add Transaction"})]}))]})},E=n(74),L=n(96),R=n.n(L),D=n(130),_=n(272),G=function(e){var t=i.a.Title;return Object(a.jsx)("div",{className:"login-screen",children:Object(a.jsx)(g.a,{onClick:e.signIn,className:"loginBtn",children:Object(a.jsxs)(t,{level:2,style:{color:"#333",fontSize:30},children:[Object(a.jsx)(_.a,{style:{paddingRight:10,color:"#333"}}),"Sign in with Google"]})})})},M=n(273),H=function(){var e=i.a.Title,t=Object(E.useGoogleLogout)({clientId:"801993652344-1pa0s8f8ksto4f6ld6sl71t6m5set36v.apps.googleusercontent.com",onLogoutSuccess:function(e){console.log("Logged out Success"),alert("Logged out Successfully \u270c"),n()},onFailure:function(){console.log("Handle failure cases")}}).signOut,n=function(){window.location.reload(!1)};return Object(a.jsx)("div",{className:"logout-box",children:Object(a.jsx)(g.a,{onClick:t,className:"logoutBtn",children:Object(a.jsxs)(e,{level:5,children:[Object(a.jsx)(M.a,{style:{paddingRight:10}}),"Sign out"]})})})},$=function(){var e=Object(c.useState)(!0),t=Object(j.a)(e,2),n=t[0],o=t[1],s=Object(E.useGoogleLogin)({onSuccess:function(e){console.log("Login Success: currentUser:",e.profileObj),function(e){var t=1e3*(e.tokenObj.expires_in||3300),n=function(){var a=Object(D.a)(R.a.mark((function a(){var c;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.reloadAuthResponse();case 2:c=a.sent,t=1e3*(c.expires_in||3300),console.log("newAuthRes:",c),localStorage.setItem("authToken",c.id_token),setTimeout(n,t);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();setTimeout(n,t)}(e),o(!1)},onFailure:function(e){console.log("Login failed: res:",e),alert("Failed to login. \ud83d\ude22 ")},clientId:"801993652344-1pa0s8f8ksto4f6ld6sl71t6m5set36v.apps.googleusercontent.com",isSignedIn:!0,accessType:"offline"}).signIn;return n?Object(a.jsx)(G,{signIn:s}):Object(a.jsx)(H,{})};var P=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($,{}),Object(a.jsx)(u,{}),Object(a.jsx)(m,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"content-box",children:[Object(a.jsx)(C,{}),Object(a.jsx)(B,{})]}),Object(a.jsx)("div",{className:"content-box right-box",children:Object(a.jsx)(k,{})})]})})]})};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.44f28fff.chunk.js.map